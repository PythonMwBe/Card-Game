<script>
        // 10 ä¸ªå¥–åŠ±å†…å®¹
        const rewards = [
            'ä¸Šå•æ‰€ç‰¹æƒ ğŸš½', 
            'ä¸Šå•æ‰€ç‰¹æƒ ğŸš½', 
            'æ£’æ£’ç³– 1 æ”¯ ğŸ­', 
            'ä¸€ç²’ç³–æœ ğŸ¬', 
            'ä¸€ç²’ç³–æœ ğŸ¬', 
            'ä¸¤ç²’ç³–æœ ğŸ¬ğŸ¬', 
            'ä¸€åŒ…é›¶é£Ÿ ğŸ‰', 
            'å†æ¥å†å‰ï¼ğŸ’ª', // å…³é”®è¯ç”¨äºåˆ¤æ–­éŸ³æ•ˆ
            'ç‹ç‰Œ (ç‰¹æƒå¤§å¥–ï¼) ğŸ‘‘', 
            'ç‹ç‰Œ (ç‰¹æƒå¤§å¥–ï¼) ğŸ‘‘' 
        ];
        
        let flippedCount = 0;
        const totalCards = rewards.length;
        const gameBoard = document.getElementById('game-board'); 

        // éŸ³æ•ˆåŠ è½½
        const soundWin = new Audio('win.mp3');   // æˆåŠŸéŸ³æ•ˆ (æŠ½ä¸­å¥–åŠ±)
        const soundLose = new Audio('lose.mp3'); // å¤±è´¥éŸ³æ•ˆ (æŠ½ä¸­å†æ¥å†å‰)
        // ç§»é™¤äº† soundFail å’Œ soundReset çš„å®šä¹‰

        // 1. æ‰“ä¹±æ•°ç»„é¡ºåº (Fisher-Yates)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; 
            }
            return array;
        }

        // 2. åˆå§‹åŒ–/ç”Ÿæˆå¡ç‰Œ
        function initializeBoard() {
            if (!gameBoard) {
                console.error("è‡´å‘½é”™è¯¯ï¼šæ‰¾ä¸åˆ° ID ä¸º 'game-board' çš„å…ƒç´ ã€‚");
                return; 
            }
            
            gameBoard.innerHTML = ''; 
            
            const shuffledRewards = shuffleArray([...rewards]); 

            for (let i = 0; i < totalCards; i++) {
                const cardNumber = i + 1; 
                const rewardText = shuffledRewards[i];
                
                const cardHTML = `
                    <div class="card" onclick="flipCard(this, '${rewardText}')"> 
                        <div class="card-inner">
                            <div class="card-front">${cardNumber}</div>
                            <div class="card-back">${rewardText}</div>
                        </div>
                    </div>
                `;
                gameBoard.innerHTML += cardHTML;
            }
            flippedCount = 0;
            
            // ç§»é™¤ initializeBoard ä¸­çš„æ‰€æœ‰é‡ç½®éŸ³æ•ˆè°ƒç”¨
        }

        // 3. ç¿»è½¬å¡ç‰Œå¹¶è®¡æ•°
        function flipCard(cardElement, rewardText) {
            if (cardElement.classList.contains('flipped')) {
                return;
            }

            cardElement.classList.add('flipped');
            flippedCount++;

            // æ’­æ”¾éŸ³æ•ˆé€»è¾‘
            if (rewardText.includes('å†æ¥å†å‰')) {
                // æŠ½åˆ°å†æ¥å†å‰ï¼Œæ’­æ”¾ lose.mp3
                soundLose.play().catch(e => console.log("Lose sound blocked"));
            } else {
                // æŠ½åˆ°å¥–åŠ±ï¼Œæ’­æ”¾ win.mp3
                soundWin.play().catch(e => console.log("Win sound blocked"));
            }

            // æ£€æŸ¥æ˜¯å¦æ‰€æœ‰å¡ç‰Œéƒ½å·²ç¿»å®Œ (è‡ªåŠ¨é‡ç½®é€»è¾‘ï¼Œä¿ç•™)
            if (flippedCount === totalCards) {
                setTimeout(() => {
                    alert('æœ¬è½®å¥–åŠ±å·²å‘å®Œï¼å¡ç‰Œå°†é‡ç½®å¹¶æ‰“ä¹±ã€‚');
                    resetGame(); // è‡ªåŠ¨è°ƒç”¨é‡ç½®
                }, 1000);
            }
            
            cardElement.style.pointerEvents = 'none';
        }
        
        // 4. é‡ç½®æ¸¸æˆ 
        function resetGame() {
            // ç§»é™¤é‡ç½®éŸ³æ•ˆè°ƒç”¨
            initializeBoard(); 
            alert('å¡ç‰Œå·²é‡ç½®å¹¶æ‰“ä¹±ä½ç½®ï¼');
        }

        // é¡µé¢åŠ è½½å®Œæˆåç«‹å³åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', initializeBoard);
    </script>
