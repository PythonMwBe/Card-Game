<script>
        // 10 个奖励内容 (略)
        const rewards = [/* ... 10 个奖励内容 ... */];
        
        let flippedCount = 0;
        const totalCards = rewards.length;
        
        // 音效加载
        const soundWin = new Audio('win.mp3');   
        const soundLose = new Audio('lose.mp3'); 

        // 1. 打乱数组顺序 (Fisher-Yates)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; 
            }
            return array;
        }

        // 2. 初始化/生成卡牌
        function initializeBoard() {
            // **关键修复：尝试用 ID 查找，如果失败，尝试用 Class 查找**
            let gameBoard = document.getElementById('game-board'); 

            if (!gameBoard) {
                // 如果 ID 查找失败，尝试用类名查找第一个匹配的元素
                gameBoard = document.querySelector('.card-container');
            }
            
            if (!gameBoard) {
                console.error("致命错误：无法在文档中找到卡牌容器。请检查 ID='game-board' 和 class='card-container' 是否存在。");
                return; 
            }
            
            gameBoard.innerHTML = ''; 
            
            const shuffledRewards = shuffleArray([...rewards]); 

            for (let i = 0; i < totalCards; i++) {
                const cardNumber = i + 1; 
                const rewardText = shuffledRewards[i];
                
                const cardHTML = `
                    <div class="card" onclick="flipCard(this, '${rewardText}')"> 
                        <div class="card-inner">
                            <div class="card-front">${cardNumber}</div>
                            <div class="card-back">${rewardText}</div>
                        </div>
                    </div>
                `;
                gameBoard.innerHTML += cardHTML;
            }
            flippedCount = 0;
        }

        // 3. 翻转卡牌并计数 (内容保持不变)
        function flipCard(cardElement, rewardText) {
            if (cardElement.classList.contains('flipped')) {
                return;
            }

            cardElement.classList.add('flipped');
            flippedCount++;

            // 播放音效逻辑
            if (rewardText.includes('再接再厉')) {
                soundLose.play().catch(e => console.log("Lose sound blocked"));
            } else {
                soundWin.play().catch(e => console.log("Win sound blocked"));
            }

            // 自动重置逻辑
            if (flippedCount === totalCards) {
                setTimeout(() => {
                    alert('本轮奖励已发完！卡牌将重置并打乱。');
                    resetGame(); 
                }, 1000);
            }
            
            cardElement.style.pointerEvents = 'none';
        }
        
        // 4. 重置游戏 
        function resetGame() {
            initializeBoard(); 
            alert('卡牌已重置并打乱位置！');
        }

        // 页面加载完成后，安全地执行初始化函数
        document.addEventListener('DOMContentLoaded', initializeBoard);
    </script>
